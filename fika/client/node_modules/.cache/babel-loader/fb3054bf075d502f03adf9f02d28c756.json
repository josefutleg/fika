{"ast":null,"code":"var _jsxFileName = \"/Users/josefutleg/Desktop/projects/fika/fika/client/src/pages/LoginComponent.jsx\";\nimport React, { Component } from \"react\";\nimport \"../App.css\";\nimport { _login, _signUp } from \"../services/AuthService\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      logged_in: false\n    };\n\n    this.changeForm = () => {\n      this.setState({\n        login: !this.state.logged_in\n      });\n    };\n\n    this.login = event => {\n      event.preventDefault();\n      let inputs = event.target.children;\n      let username = inputs[0].value;\n      let password = inputs[2].value;\n      return _login(username, password).then(res => {\n        let userObj;\n\n        if (res.token) {\n          console.log(res);\n          userObj.userId = res.userId;\n          this.setState({\n            userId: res.userId\n          }); // this.setState({ username: res.username });\n          // this.setState({ score: res.score });\n          // this.setState({ currentGame: res.currentGame });\n          // this.setState({ input: res.input });\n          // this.setState({ vote: res.vote });\n\n          this.setState({\n            logged_in: true\n          }, function () {\n            localStorage.setItem(\"token\", res.token);\n            alert(this.state.response);\n          });\n        } else {\n          alert(\"invalid username/password\");\n        }\n      });\n    };\n\n    this.signUp = event => {\n      event.preventDefault();\n      let inputs = event.target.children;\n      let username = inputs[0].value;\n      let password = inputs[2].value;\n      let passwordConf = inputs[4].value;\n\n      if (password === passwordConf) {\n        return _signUp(username, password).then(res => {\n          console.log(res);\n          alert(res.message);\n        });\n      } else {\n        alert(\"your password and password confirmation have to match!\");\n      }\n    };\n\n    this.getToken = () => {\n      return localStorage.getItem(\"token\");\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.state.logged_in === true && React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"log in\")), React.createElement(\"button\", {\n      onClick: this.changeForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"new user?\")))), this.state.logged_in === false && React.createElement(\"div\", {\n      className: \"signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.signUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"new username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"new password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"confirm password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"sign up\")), React.createElement(\"button\", {\n      onClick: this.changeForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"back\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/josefutleg/Desktop/projects/fika/fika/client/src/pages/LoginComponent.jsx"],"names":["React","Component","_login","_signUp","Login","state","logged_in","changeForm","setState","login","event","preventDefault","inputs","target","children","username","value","password","then","res","userObj","token","console","log","userId","localStorage","setItem","alert","response","signUp","passwordConf","message","getToken","getItem","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../App.css\";\nimport { _login, _signUp } from \"../services/AuthService\";\nclass Login extends Component {\n  state = { logged_in: false };\n\n  changeForm = () => {\n    this.setState({ login: !this.state.logged_in });\n  };\n\n  login = event => {\n    event.preventDefault();\n\n    let inputs = event.target.children;\n    let username = inputs[0].value;\n    let password = inputs[2].value;\n    return _login(username, password).then(res => {\n      let userObj;\n      if (res.token) {\n        console.log(res);\n        userObj.userId = res.userId\n        this.setState({ userId: res.userId });\n        // this.setState({ username: res.username });\n        // this.setState({ score: res.score });\n        // this.setState({ currentGame: res.currentGame });\n        // this.setState({ input: res.input });\n        // this.setState({ vote: res.vote });\n        this.setState({ logged_in: true }, function () {\n          localStorage.setItem(\"token\", res.token);\n          alert(this.state.response);\n        });\n      } else {\n        alert(\"invalid username/password\");\n      }\n    });\n  };\n\n  signUp = event => {\n    event.preventDefault();\n\n    let inputs = event.target.children;\n    let username = inputs[0].value;\n    let password = inputs[2].value;\n    let passwordConf = inputs[4].value;\n\n    if (password === passwordConf) {\n      return _signUp(username, password).then(res => {\n        console.log(res);\n        alert(res.message);\n      });\n    } else {\n      alert(\"your password and password confirmation have to match!\");\n    }\n  };\n  getToken = () => {\n    return localStorage.getItem(\"token\");\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.logged_in === true && (\n          <div className=\"login\">\n            <form onSubmit={this.login}>\n              <input type=\"text\" name=\"name\" placeholder=\"username\" />\n              <br />\n              <input type=\"password\" name=\"password\" placeholder=\"password\" />\n              <br />\n              <button>\n                <span>log in</span>\n              </button>\n              <button onClick={this.changeForm}>\n                <span>new user?</span>\n              </button>\n            </form>\n          </div>\n        )}\n        {this.state.logged_in === false && (\n          <div className=\"signup\">\n            <form onSubmit={this.signUp}>\n              <input type=\"text\" name=\"name\" placeholder=\"new username\" />\n              <br />\n              <input\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"new password\"\n              />\n              <br />\n              <input\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"confirm password\"\n              />\n              <br />\n              <button>\n                <span>sign up</span>\n              </button>\n              <button onClick={this.changeForm}>\n                <span>back</span>\n              </button>\n            </form>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}