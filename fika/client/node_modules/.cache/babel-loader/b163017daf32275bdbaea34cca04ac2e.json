{"ast":null,"code":"var _jsxFileName = \"/Users/josefutleg/Desktop/code/app/fika/fika/client/src/pages/LoginComponent.jsx\";\nimport React, { Component } from \"react\";\nimport \"../App.css\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.login = event => {\n      event.preventDefault();\n      let inputs = event.target.children;\n      let username = inputs[0].value;\n      let password = inputs[2].value;\n      return _login(username, password).then(res => {\n        if (res.token) {\n          this.setState({\n            userId: res.userId\n          });\n          this.setState({\n            username: res.username\n          });\n          this.setState({\n            score: res.score\n          });\n          this.setState({\n            currentGame: res.currentGame\n          });\n          this.setState({\n            input: res.input\n          });\n          this.setState({\n            vote: res.vote\n          });\n          this.setState({\n            logged_in: true\n          }, function () {\n            localStorage.setItem(\"token\", res.token); // alert(this.state.response);\n\n            _getAvailableRooms().then(resultingJSON => {\n              let arr = [];\n\n              for (let i = 0; i < resultingJSON.length; i++) {\n                if (resultingJSON[i].active === false) {\n                  arr.push(resultingJSON[i]);\n                }\n              }\n\n              this.setState({\n                gamesAvailable: arr\n              });\n              console.log(this.state);\n            });\n          });\n          document.querySelector(\"body\").classList.remove(\"bodyBackgroundImg\");\n          document.querySelector(\"body\").classList.add(\"bodyBackgroundColor\");\n        } else {\n          alert(\"invalid username/password\");\n        }\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"login\",\n      onSubmit: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"serviceButton\",\n      id: \"logButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"log in\")), React.createElement(\"button\", {\n      onClick: this.changeForm,\n      className: \"serviceButton\",\n      id: \"newUser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"new user?\"))), React.createElement(\"button\", {\n      onClick: this.props.handleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"log in\")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/josefutleg/Desktop/code/app/fika/fika/client/src/pages/LoginComponent.jsx"],"names":["React","Component","Login","state","login","event","preventDefault","inputs","target","children","username","value","password","_login","then","res","token","setState","userId","score","currentGame","input","vote","logged_in","localStorage","setItem","_getAvailableRooms","resultingJSON","arr","i","length","active","push","gamesAvailable","console","log","document","querySelector","classList","remove","add","alert","render","changeForm","props","handleLogin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;;AACA,MAAMC,KAAN,SAAoBD,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC5BE,KAD4B,GACpB,EADoB;;AAAA,SAE5BC,KAF4B,GAEpBC,KAAK,IAAI;AACfA,MAAAA,KAAK,CAACC,cAAN;AAEA,UAAIC,MAAM,GAAGF,KAAK,CAACG,MAAN,CAAaC,QAA1B;AACA,UAAIC,QAAQ,GAAGH,MAAM,CAAC,CAAD,CAAN,CAAUI,KAAzB;AACA,UAAIC,QAAQ,GAAGL,MAAM,CAAC,CAAD,CAAN,CAAUI,KAAzB;AACA,aAAOE,MAAM,CAACH,QAAD,EAAWE,QAAX,CAAN,CAA2BE,IAA3B,CAAgCC,GAAG,IAAI;AAC5C,YAAIA,GAAG,CAACC,KAAR,EAAe;AACb,eAAKC,QAAL,CAAc;AAAEC,YAAAA,MAAM,EAAEH,GAAG,CAACG;AAAd,WAAd;AACA,eAAKD,QAAL,CAAc;AAAEP,YAAAA,QAAQ,EAAEK,GAAG,CAACL;AAAhB,WAAd;AACA,eAAKO,QAAL,CAAc;AAAEE,YAAAA,KAAK,EAAEJ,GAAG,CAACI;AAAb,WAAd;AACA,eAAKF,QAAL,CAAc;AAAEG,YAAAA,WAAW,EAAEL,GAAG,CAACK;AAAnB,WAAd;AACA,eAAKH,QAAL,CAAc;AAAEI,YAAAA,KAAK,EAAEN,GAAG,CAACM;AAAb,WAAd;AACA,eAAKJ,QAAL,CAAc;AAAEK,YAAAA,IAAI,EAAEP,GAAG,CAACO;AAAZ,WAAd;AACA,eAAKL,QAAL,CAAc;AAAEM,YAAAA,SAAS,EAAE;AAAb,WAAd,EAAmC,YAAW;AAC5CC,YAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BV,GAAG,CAACC,KAAlC,EAD4C,CAE5C;;AACAU,YAAAA,kBAAkB,GAAGZ,IAArB,CAA0Ba,aAAa,IAAI;AACzC,kBAAIC,GAAG,GAAG,EAAV;;AACA,mBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,aAAa,CAACG,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,oBAAIF,aAAa,CAACE,CAAD,CAAb,CAAiBE,MAAjB,KAA4B,KAAhC,EAAuC;AACrCH,kBAAAA,GAAG,CAACI,IAAJ,CAASL,aAAa,CAACE,CAAD,CAAtB;AACD;AACF;;AACD,mBAAKZ,QAAL,CAAc;AAAEgB,gBAAAA,cAAc,EAAEL;AAAlB,eAAd;AACAM,cAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhC,KAAjB;AACD,aATD;AAUD,WAbD;AAcAiC,UAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,CAAyCC,MAAzC,CAAgD,mBAAhD;AACAH,UAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,CAAyCE,GAAzC,CAA6C,qBAA7C;AACD,SAvBD,MAuBO;AACLC,UAAAA,KAAK,CAAC,2BAAD,CAAL;AACD;AACF,OA3BM,CAAP;AA4BD,KApC2B;AAAA;;AAsC5BC,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,EAAE,EAAC,OAAT;AAAiB,MAAA,QAAQ,EAAE,KAAKtC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,MAAxB;AAA+B,MAAA,WAAW,EAAC,UAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,WAAW,EAAC,UAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAkC,MAAA,EAAE,EAAC,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CALF,EAQE;AACE,MAAA,OAAO,EAAE,KAAKuC,UADhB;AAEE,MAAA,SAAS,EAAC,eAFZ;AAGE,MAAA,EAAE,EAAC,SAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,CARF,CADF,EAiBE;AAAQ,MAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBF,CADF,CADF;AAuBD;;AA9D2B;;AAiE9B,eAAe3C,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"../App.css\";\nclass Login extends Component {\n  state = {};\n  login = event => {\n    event.preventDefault();\n\n    let inputs = event.target.children;\n    let username = inputs[0].value;\n    let password = inputs[2].value;\n    return _login(username, password).then(res => {\n      if (res.token) {\n        this.setState({ userId: res.userId });\n        this.setState({ username: res.username });\n        this.setState({ score: res.score });\n        this.setState({ currentGame: res.currentGame });\n        this.setState({ input: res.input });\n        this.setState({ vote: res.vote });\n        this.setState({ logged_in: true }, function() {\n          localStorage.setItem(\"token\", res.token);\n          // alert(this.state.response);\n          _getAvailableRooms().then(resultingJSON => {\n            let arr = [];\n            for (let i = 0; i < resultingJSON.length; i++) {\n              if (resultingJSON[i].active === false) {\n                arr.push(resultingJSON[i]);\n              }\n            }\n            this.setState({ gamesAvailable: arr });\n            console.log(this.state);\n          });\n        });\n        document.querySelector(\"body\").classList.remove(\"bodyBackgroundImg\");\n        document.querySelector(\"body\").classList.add(\"bodyBackgroundColor\");\n      } else {\n        alert(\"invalid username/password\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"login\">\n          <form id=\"login\" onSubmit={this.login}>\n            <input type=\"text\" name=\"name\" placeholder=\"username\" />\n            <br />\n            <input type=\"password\" name=\"password\" placeholder=\"password\" />\n            <br />\n            <button className=\"serviceButton\" id=\"logButton\">\n              <span>log in</span>\n            </button>\n            <button\n              onClick={this.changeForm}\n              className=\"serviceButton\"\n              id=\"newUser\"\n            >\n              <span>new user?</span>\n            </button>\n          </form>\n          <button onClick={this.props.handleLogin}>log in</button>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}